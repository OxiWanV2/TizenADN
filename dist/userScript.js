!function(){"use strict";var n=["a[href]","button:not([disabled])",'[role="button"]',".slider-item",".media-card",".catalog-item",".episode-list-item",".btn","input",'[tabindex]:not([tabindex="-1"])'].join(", "),e=[],t=0;function o(){e=Array.from(document.querySelectorAll(n)).filter(function(n){var e=n.getBoundingClientRect();return e.width>0&&e.height>0})}function r(n){if(document.querySelectorAll(".__adn_focus").forEach(function(n){n.classList.remove("__adn_focus")}),e[n]){t=n;var o=e[n];o.classList.add("__adn_focus"),o.focus({preventScroll:!1}),o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}function a(n){var o=e[t];if(!o)return t;var r=o.getBoundingClientRect(),a=r.left+r.width/2,i=r.top+r.height/2,d=t,c=1/0;return e.forEach(function(e,o){if(o!==t){var r=e.getBoundingClientRect(),s=r.left+r.width/2,p=r.top+r.height/2,u=s-a,l=p-i,m=!1;if("UP"===n&&(m=l<-10),"DOWN"===n&&(m=l>10),"LEFT"===n&&(m=u<-10),"RIGHT"===n&&(m=u>10),m){var f=("UP"===n||"DOWN"===n?Math.abs(l):Math.abs(u))+2*("UP"===n||"DOWN"===n?Math.abs(u):Math.abs(l));f<c&&(c=f,d=o)}}}),d}function i(){[".sd-cmp-gpI1s",".sd-cmp-cWOb7",".sd-cmp-FzC1t",".sd-cmp-hk3jy",".sd-cmp-MtHO2","#__abconsent-cmp","#sd-cmp"].forEach(function(n){document.querySelectorAll(n).forEach(function(n){return n.remove()})}),document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.position="",document.documentElement.style.position=""}function d(){("/login"===window.location.pathname||window.location.pathname.startsWith("/login"))&&function(){if(!document.querySelector("#__adn_token_popup")){var n=document.createElement("div");n.id="__adn_token_popup",n.style.cssText="\n    position: fixed;\n    top: 0; left: 0; right: 0; bottom: 0;\n    background: rgba(0,0,0,0.85);\n    z-index: 999999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    gap: 20px;\n    font-family: Helvetica, sans-serif;\n  ";var e=document.createElement("div");e.style.cssText="\n    background: #04121a;\n    border: 2px solid #0095ff;\n    border-radius: 16px;\n    padding: 40px;\n    width: 600px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    align-items: center;\n  ";var t=document.createElement("div");t.textContent="Connexion ADN",t.style.cssText="color: #fff; font-size: 28px; font-weight: bold;";var o=document.createElement("div");o.textContent="Entrez votre token d'authentification",o.style.cssText="color: #999; font-size: 16px;";var r=document.createElement("input");r.type="text",r.placeholder="Token...",r.id="__adn_token_input",r.style.cssText="\n    width: 100%;\n    padding: 14px 18px;\n    font-size: 18px;\n    border-radius: 10px;\n    border: 2px solid #0095ff;\n    background: #0a1f2e;\n    color: #fff;\n    outline: none;\n    box-sizing: border-box;\n  ";var a=document.createElement("button");a.textContent="Valider",a.style.cssText="\n    padding: 14px 40px;\n    font-size: 20px;\n    background: #0095ff;\n    color: #fff;\n    border: none;\n    border-radius: 10px;\n    cursor: pointer;\n    font-weight: bold;\n  ";var i=document.createElement("div");i.textContent="Appuyez sur OK pour valider",i.style.cssText="color: #555; font-size: 14px;",a.addEventListener("click",d),r.addEventListener("keydown",function(n){13===n.keyCode&&(n.stopPropagation(),d())}),e.appendChild(t),e.appendChild(o),e.appendChild(r),e.appendChild(a),e.appendChild(i),n.appendChild(e),document.body.appendChild(n),setTimeout(function(){return r.focus()},100)}function d(){var e=r.value.trim();e&&(localStorage.setItem("token",e),n.remove(),window.location.href="/")}}()}i(),new MutationObserver(function(){(document.querySelector("#__abconsent-cmp")||document.querySelector(".sd-cmp-MtHO2")||document.querySelector(".sd-cmp-hk3jy"))&&i()}).observe(document.body,{childList:!0,subtree:!0}),d();var c=history.pushState.bind(history);history.pushState=function(){c.apply(void 0,arguments),d()},window.addEventListener("popstate",d),document.addEventListener("keydown",function(n){if(!document.querySelector("#__adn_token_popup"))switch(o(),n.keyCode){case 38:n.preventDefault(),r(a("UP"));break;case 40:n.preventDefault(),r(a("DOWN"));break;case 37:n.preventDefault(),r(a("LEFT"));break;case 39:n.preventDefault(),r(a("RIGHT"));break;case 13:e[t]&&(n.preventDefault(),e[t].click());break;case 10009:case 10182:n.preventDefault();var i=document.querySelector("video");i&&!i.paused?i.pause():history.back()}},!0),new MutationObserver(function(){return setTimeout(o,400)}).observe(document.body,{childList:!0,subtree:!0}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){i(),o(),r(0),d()}):(o(),r(0));var s=document.createElement("style");s.textContent=".__adn_focus {\n  outline: 3px solid #e94560 !important;\n  outline-offset: 2px !important;\n  transform: scale(1.05) !important;\n  box-shadow: 0 0 15px rgba(233, 69, 96, 0.6) !important;\n  transition: transform 0.15s ease !important;\n  z-index: 9999 !important;\n  position: relative !important;\n}\n\n.__adn_focus::before {\n  content: '';\n  position: absolute;\n  top: -3px; left: -3px; right: -3px; bottom: -3px;\n  border: 2px solid #e94560;\n  border-radius: 3px;\n  box-shadow: 0 0 15px 3px rgba(233, 69, 96, 0.5);\n  pointer-events: none;\n  z-index: -1;\n}\n\nbody, html {\n  cursor: none !important;\n  overflow: auto !important;\n  position: static !important;\n}\n\n.sd-cmp-gpI1s,\n.sd-cmp-cWOb7,\n.sd-cmp-FzC1t,\n.sd-cmp-hk3jy,\n.sd-cmp-MtHO2,\n#__abconsent-cmp,\n#sd-cmp,\n[class*=\"sd-cmp-\"] {\n  display: none !important;\n  visibility: hidden !important;\n  opacity: 0 !important;\n  pointer-events: none !important;\n}\n\n.adn-toast {\n  position: fixed;\n  top: 20px; right: 20px;\n  background: rgba(0,0,0,0.75);\n  color: #fff;\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 18px;\n  z-index: 99999;\n  opacity: 0;\n  transform: translateY(-10px);\n  transition: all 0.3s ease;\n}\n\n.adn-toast.show {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n#__adn_token_popup input:focus {\n  border-color: #e94560 !important;\n  box-shadow: 0 0 10px rgba(233, 69, 96, 0.5) !important;\n}\n\n#__adn_token_popup button:hover,\n#__adn_token_popup button:focus {\n  background: #007acc !important;\n  transform: scale(1.05);\n}",document.head.appendChild(s),document.addEventListener("keydown",function(n){var e=document.querySelector("video");if(e)switch(n.keyCode){case 415:case 19:case 10252:n.preventDefault(),e.paused?e.play():e.pause();break;case 413:n.preventDefault(),e.pause(),e.currentTime=0;break;case 417:n.preventDefault(),e.currentTime=Math.min(e.duration,e.currentTime+30);break;case 412:n.preventDefault(),e.currentTime=Math.max(0,e.currentTime-10)}},!0)}();
