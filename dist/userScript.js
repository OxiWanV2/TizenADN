!function(){"use strict";var e=["a[href]","button:not([disabled])",'[role="button"]',".slider-item",".media-card",".catalog-item",".episode-list-item",".btn","input",'[tabindex]:not([tabindex="-1"])'].join(", "),n=[],t=0;function o(){n=Array.from(document.querySelectorAll(e)).filter(function(e){var n=e.getBoundingClientRect();return n.width>0&&n.height>0})}function a(e){if(document.querySelectorAll(".__adn_focus").forEach(function(e){e.classList.remove(".__adn_focus")}),n[e]){t=e;var o=n[e];o.classList.add("__adn_focus"),o.focus({preventScroll:!1}),o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}function r(e){var o=n[t];if(!o)return t;var a=o.getBoundingClientRect(),r=a.left+a.width/2,i=a.top+a.height/2,c=t,d=1/0;return n.forEach(function(n,o){if(o!==t){var a=n.getBoundingClientRect(),s=a.left+a.width/2,p=a.top+a.height/2,u=s-r,l=p-i,m=!1;if("UP"===e&&(m=l<-10),"DOWN"===e&&(m=l>10),"LEFT"===e&&(m=u<-10),"RIGHT"===e&&(m=u>10),m){var f=("UP"===e||"DOWN"===e?Math.abs(l):Math.abs(u))+2*("UP"===e||"DOWN"===e?Math.abs(u):Math.abs(l));f<d&&(d=f,c=o)}}}),c}function i(){[".sd-cmp-gpI1s",".sd-cmp-cWOb7",".sd-cmp-FzC1t",".sd-cmp-hk3jy",".sd-cmp-MtHO2","#__abconsent-cmp","#sd-cmp"].forEach(function(e){document.querySelectorAll(e).forEach(function(e){return e.remove()})}),document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.position="",document.documentElement.style.position=""}function c(){("/login"===window.location.pathname||window.location.pathname.startsWith("/login"))&&function(){if(!document.querySelector("#__adn_token_popup")){var e=document.createElement("div");e.id="__adn_token_popup",e.style.cssText="\n    position: fixed;\n    top: 0; left: 0; right: 0; bottom: 0;\n    background: rgba(0,0,0,0.85);\n    z-index: 999999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    gap: 20px;\n    font-family: Helvetica, sans-serif;\n  ";var n=document.createElement("div");n.style.cssText="\n    background: #04121a;\n    border: 2px solid #0095ff;\n    border-radius: 16px;\n    padding: 40px;\n    width: 600px;\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    align-items: center;\n  ";var t=document.createElement("div");t.textContent="Connexion ADN",t.style.cssText="color: #fff; font-size: 28px; font-weight: bold;";var o=document.createElement("div");o.textContent="Entrez votre token d'authentification",o.style.cssText="color: #999; font-size: 16px;";var a=document.createElement("input");a.type="text",a.placeholder="Token...",a.id="__adn_token_input",a.style.cssText="\n    width: 100%;\n    padding: 14px 18px;\n    font-size: 18px;\n    border-radius: 10px;\n    border: 2px solid #0095ff;\n    background: #0a1f2e;\n    color: #fff;\n    outline: none;\n    box-sizing: border-box;\n  ";var r=document.createElement("button");r.textContent="Valider",r.id="__adn_token_btn",r.style.cssText="\n    padding: 14px 40px;\n    font-size: 20px;\n    background: #0095ff;\n    color: #fff;\n    border: none;\n    border-radius: 10px;\n    cursor: pointer;\n    font-weight: bold;\n  ";var i=document.createElement("div");i.textContent="↓ Bouton • OK Valider",i.style.cssText="color: #555; font-size: 14px;",r.addEventListener("click",function(){var n=a.value.trim();n&&(localStorage.setItem("token",n),e.remove(),window.location.href="/")}),n.appendChild(t),n.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(i),e.appendChild(n),document.body.appendChild(e),setTimeout(function(){return a.focus()},100)}}()}i(),new MutationObserver(function(){(document.querySelector("#__abconsent-cmp")||document.querySelector(".sd-cmp-MtHO2")||document.querySelector(".sd-cmp-hk3jy"))&&i()}).observe(document.body,{childList:!0,subtree:!0}),c();var d=history.pushState.bind(history);history.pushState=function(){d.apply(void 0,arguments),c()},window.addEventListener("popstate",c),document.addEventListener("keydown",function(e){var i=document.querySelector("#__adn_token_popup");if(i){var c=document.querySelector("#__adn_token_input"),d=document.querySelector("#__adn_token_btn"),s=document.activeElement;switch(e.keyCode){case 13:if(e.preventDefault(),e.stopPropagation(),s===d){var p=c.value.trim();p&&(localStorage.setItem("token",p),i.remove(),window.location.href="/")}else d.focus();break;case 40:e.preventDefault(),e.stopPropagation(),s===c&&d.focus();break;case 38:e.preventDefault(),e.stopPropagation(),s===d&&c.focus();break;case 10009:case 10182:e.preventDefault(),e.stopPropagation(),i.remove()}}else switch(o(),e.keyCode){case 38:e.preventDefault(),a(r("UP"));break;case 40:e.preventDefault(),a(r("DOWN"));break;case 37:e.preventDefault(),a(r("LEFT"));break;case 39:e.preventDefault(),a(r("RIGHT"));break;case 13:n[t]&&(e.preventDefault(),n[t].click());break;case 10009:case 10182:e.preventDefault();var u=document.querySelector("video");u&&!u.paused?u.pause():history.back()}},!0),new MutationObserver(function(){return setTimeout(o,400)}).observe(document.body,{childList:!0,subtree:!0}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){i(),o(),a(0),c()}):(o(),a(0));var s=document.createElement("style");s.textContent=".__adn_focus {\n  outline: 3px solid #e94560 !important;\n  outline-offset: 2px !important;\n  transform: scale(1.05) !important;\n  box-shadow: 0 0 15px rgba(233, 69, 96, 0.6) !important;\n  transition: transform 0.15s ease !important;\n  z-index: 9999 !important;\n  position: relative !important;\n}\n\n.__adn_focus::before {\n  content: '';\n  position: absolute;\n  top: -3px; left: -3px; right: -3px; bottom: -3px;\n  border: 2px solid #e94560;\n  border-radius: 3px;\n  box-shadow: 0 0 15px 3px rgba(233, 69, 96, 0.5);\n  pointer-events: none;\n  z-index: -1;\n}\n\nbody, html {\n  cursor: none !important;\n  overflow: auto !important;\n  position: static !important;\n}\n\n.sd-cmp-gpI1s,\n.sd-cmp-cWOb7,\n.sd-cmp-FzC1t,\n.sd-cmp-hk3jy,\n.sd-cmp-MtHO2,\n#__abconsent-cmp,\n#sd-cmp,\n[class*=\"sd-cmp-\"] {\n  display: none !important;\n  visibility: hidden !important;\n  opacity: 0 !important;\n  pointer-events: none !important;\n}\n\n.adn-toast {\n  position: fixed;\n  top: 20px; right: 20px;\n  background: rgba(0,0,0,0.75);\n  color: #fff;\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-size: 18px;\n  z-index: 99999;\n  opacity: 0;\n  transform: translateY(-10px);\n  transition: all 0.3s ease;\n}\n\n.adn-toast.show {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n#__adn_token_popup input:focus {\n  border-color: #e94560 !important;\n  box-shadow: 0 0 10px rgba(233, 69, 96, 0.5) !important;\n}\n\n#__adn_token_popup button:hover,\n#__adn_token_popup button:focus {\n  background: #007acc !important;\n  transform: scale(1.05);\n}",document.head.appendChild(s),document.addEventListener("keydown",function(e){var n=document.querySelector("video");if(n)switch(e.keyCode){case 415:case 19:case 10252:e.preventDefault(),n.paused?n.play():n.pause();break;case 413:e.preventDefault(),n.pause(),n.currentTime=0;break;case 417:e.preventDefault(),n.currentTime=Math.min(n.duration,n.currentTime+30);break;case 412:e.preventDefault(),n.currentTime=Math.max(0,n.currentTime-10)}},!0)}();
